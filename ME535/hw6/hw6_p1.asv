clear
clc
close all

syms X L THETA M K

L_i = L / cos(THETA);
h = sqrt((L^2 / cos(THETA)^2) - L^2);
L_f = sqrt(h^2 + (L + X)^2);
delta = L_f - L_i;
delta_squared = simplify(delta^2);

potential_energy = (1/2) * K * delta_squared;
K_matrix = simplify(diff(diff(potential_energy,X),X));

K_taylor = taylor()

pretty(K_matrix)

subs(K_matrix,L,)